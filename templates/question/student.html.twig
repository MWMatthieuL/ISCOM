<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Questionnaire{% endblock %}</title>
    {% block stylesheets %}
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
        <link rel="stylesheet" href="{{ asset('build/app.css') }}">
    {% endblock %}
    <style>
        input[type="text"], label, select {
            width: 100%;
            border: none;
            border-radius: 7px;
            padding: 20px 25px;
            background-color: #ebebeb;
            -webkit-box-shadow: 0px 3px 15px -3px rgba(0,0,0,0.1);
            box-shadow: 0px 3px 15px -3px rgba(0,0,0,0.1);
            margin-bottom: 25px;
            color: #000;
        }

        input[type="checkbox"]:disabled + label {
            color: #888;
        }

        input[type="text"]::placeholder {
            color: #000;
        }

        input[type="checkbox"], input[type="file"] {
            display: none;
        }

        :checked + label {
            background-color: #74dafc;
        }

        input[type="radio"] + label {
            background: unset;
            width: unset;
            padding: unset;
            -webkit-box-shadow: unset;
            box-shadow: unset;
            margin: 0 35px 30px 15px;
        }

        input[type='radio']:after {
            width: 20px;
            height: 20px;
            border-radius: 20px;
            top: -3px;
            left: -1px;
            position: relative;
            background-color: #fff;
            content: '';
            display: inline-block;
            visibility: visible;
            border: 3px solid black;
        }

        input[type='radio']:checked:after {
            width: 14px;
            height: 14px;
            border-radius: 20px;
            top: -3px;
            left: 2px;
            position: relative;
            background-color: black;
            content: '';
            display: inline-block;
            visibility: visible;
            border: 3px solid white;
            -webkit-box-shadow: 0px 0px 0px 3px #000000;
            box-shadow: 0px 0px 0px 3px #000000;
        }

    </style>
</head>
<body class="body-no-menu">
<div style="display:block;height: 150px; width:100%; border-bottom: 1px solid #ddd;
position: -webkit-sticky;
	position: sticky; padding: 30px;
	top: 0; background: #fff; z-index: 1000";>
    <div style="width: 80%; height: 100%; margin: auto;">
        <img style="height: 100%" src="{{ asset('images/logo.png') }}">
        <div>
            <div id="quick_user" class="d-flex" style="top: 30px !important;right: 8%!important;">
                <h4>{{ app.user.displayName }}</h4>
                <i class="bi bi-caret-down-square-fill mx-1"></i>
            </div>
            <div id="quick_user_modal" style="display: none; top: 70px; right: 8%" class="p-2">
                <ul>
                    <li>
                        <div style="background: #A5201E;color: #fff;font-size: 24px;font-weight: bold;width: 56px;height: 56px;text-align: center;border-radius: 5px; margin-right: 20px">
                            <p style="margin: 0 auto;">{{ app.user.firstname|first|upper }}{{ app.user.lastname|first|upper }}</p>
                        </div>
                        <div>
                            <strong class="p-0 m-0">{{ app.user.displayName }}</strong>
                            {{ app.user.email }}
                        </div>
                    </li>
                    <li>
                        <i class="bi bi-person"></i>
                        <a href="{{ path('profile_' ~  app.user.type | replace({'admin': 'iscom'})) }}" class="h6">Compte</a>
                    </li>
                    <li>
                        <i class="bi bi-question-octagon"></i>
                        <a href="{{ path('help') }}" class="h6">Aide</a>
                    </li>
                    <li>
                        <i class="bi bi-file-earmark-medical"></i>
                        <a href="{{ path('cgu') }}" class="h6">Condition d'utilisation</a>
                    </li>
                    <li>
                        <i class="bi bi-box-arrow-right"></i>
                        <a href="{{ path('app_logout') }}" class="h6">Se déconnecter</a>
                    </li>
                </ul>
            </div>
            <script type="text/javascript">
                    document.getElementById("quick_user").addEventListener('click', e => {
                        document.getElementById("quick_user_modal").style.display =
                            document.getElementById("quick_user_modal").style.display === "none"
                            ? "block"
                            : "none";
                        e.preventDefault();
                    });
                </script>
        </div>
    </div>
</div>
<div style="width: 64%; margin: auto; clear: both">
    <h1 style="text-align: center; font-weight: bold; margin: auto; margin-top: 100px">FORMULAIRE DE MATCHING ENTREPRISE</h1>
    {{ form_start(form) }}
    <h2 style="font-weight: bold; margin-top: 80px; margin-bottom: 15px;">Type de structure recherchée</h2>
    <h5 style="margin-bottom: 30px">Vous pouvez séléctionner 5 réponses maximum</h5>
    {{ form_row(form.structure) }}
    <h2 style="font-weight: bold; margin-bottom: 15px;margin-top: 30px">Secteurs recherchées</h2>
    <h5 style="margin-bottom: 30px">Vous pouvez séléctionner 5 réponses maximum</h5>
    {{ form_row(form.sector) }}
    <h2 style="font-weight: bold; margin-bottom: 15px;margin-top: 30px">Compétences acquises</h2>
    <h5 style="margin-bottom: 30px">Vous pouvez séléctionner 5 réponses maximum</h5>
    {{ form_row(form.mainSkills) }}
    <h2 style="font-weight: bold; margin-bottom: 15px;margin-top: 30px">Soft Skills acquises</h2>
    <h5 style="margin-bottom: 30px">Vous pouvez séléctionner 5 réponses maximum</h5>
    {{ form_row(form.softSkills) }}
    <h2 style="font-weight: bold; margin-bottom: 15px;margin-top: 30px">Langues étrangères pratiquées</h2>
    <h5 style="margin-bottom: 30px">Vous pouvez séléctionner 5 réponses maximum</h5>
    {{ form_row(form.languages) }}
    <h2 style="font-weight: bold; margin-bottom: 15px;margin-top: 30px">Lieu(x) de l'offre recherché(s)</h2>
    <h5 style="margin-bottom: 30px">Vous pouvez séléctionner 4 réponses maximum</h5>
    {{ form_row(form.places) }}
    {{ form_label(form.abroad) }}
    <div style="margin-left: 25px">{{ form_widget(form.abroad) }}</div>
    {{ form_label(form.remote) }}
    <div style="margin-left: 25px">{{ form_widget(form.remote) }}</div>
    <h2 style="font-weight: bold; margin-bottom: 15px;margin-top: 30px">Votre classe</h2>
    <h5 style="margin-bottom: 30px">Vous pouvez séléctionner 2 périodes maximum en fonction de votre classe. Pour rappel, vous ne pourrez pas réaliser de stage sur une période de cours.</h5>
    {{ form_row(form.period) }}
    <h2 style="font-weight: bold; margin-bottom: 15px;margin-top: 30px">Votre CV</h2>
    <label id="cv_file" for="student_questions_cvFile_file">Chargez votre CV au format PDF (recommandé)</label>
    {{ form_row(form.cvFile) }}
    <button style="margin: 100px auto 100px; display: block; border: none; background-color: #A5201E; color: #fff; padding: 40px 60px; border-radius: 7px 7px 7px 0px; font-size: 32px" type="submit">
        ENVOYER
    </button>
    {{ form_end(form) }}
</div>
<script
        src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
        integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI="
        crossorigin="anonymous"></script>
<script>
    function checkCount(element,limit){

        var thisList = element.querySelectorAll('input[type=checkbox]');
        if(element.querySelectorAll('input[type="checkbox"]:checked').length >= limit){
            var empty = [].filter.call( thisList, function( el ) {
                if(!el.checked){
                    el.disabled = true;
                }

                return !el.checked
            });
        }
        else{
            var empty = [].filter.call( thisList, function( el ) {
                    if(el.disabled == true){
                        el.disabled = false;
                    }
                    return !el.checked
            });
        }
    }

    $(document).on('change', '#student_questions_cvFile_file',function() {
            let $filename = $( "#student_questions_cvFile_file" ).get(0).files[0].name;
            $('#cv_file').text($filename);
    });

    </script>

</body>
</html>
